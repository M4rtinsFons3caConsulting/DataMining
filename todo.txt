####################################################################################################################################################################
####################################################################################################################################################################
Structured TODO:

Step 0 - Apply suggested changes to original report (DONE)
Step 1.a - Identify and quarantine Customer Islands
Step 1.b - Perform Data Preprocessment
Step 2 - PCA on multicolinear features
Step 3 - Perform FA on cuisines with oblique rotation
Step 4 - Perform RFM analysis 
# Iterative Steps
Step 4 - Create the datasets for each perspective under hypothesis
Step 5 - Cluster the datasets, and interpret them 
Step 6 - Profile the solutions
*repeat for each perspective, until all clustering solutions are finalized*
Step 7 - Consider application of findings, both from quick win, as well as long term marketing perspectives.
Step 8 - Report findings


Estes são os steps vida.

Revê o 2; Tenta o 3. Salta o 4. 

Depois, faz do 4 ao 6 para Kmeans com Hierachical CLustering numa para uma perspetiva qualquer, se calhar usando as counts, seja as PCA, e as variaveis de aggregaçaõ tipo total e pct chain, ainda sem usar as cuisines (a menos que a fa tenha sido um sucesso estrondoso... ). E podes fazer profilling com o pay method, e o last promo maybe.

####################################################################################################################################################################
Algorithms to use:
- K-Medoids, (with Hierachical Clustering seeds). (use Jesus F., Neves C. Data Analysis slides as reference)
- DBSCAN
- SOM
- LCA (find reference) 
- RFM

###################################################################### DONE ########################################################################################
Step 0 - Apply suggested changes to original report

Make note of any new findings, and take the moment to re-balance reporting strategy for second part.
###################################################################### DONE ########################################################################################
Step 1.a - Identify and quarantine Customer Islands

Before we do any of this we should immediately exclude the groups that we have detected as homogeneous, as this will assist our clustering performance. This includes, "one-time shoppers", "whales" of various kinds, and other odd segments like the over "60 year old's", and all one-time-shoppers.

To this end, review EDA in search of such small islands, and schedule them for removal. Crucially they must eventually be compared against any profiles that we end up reaching.

Based on Chapter 13 of "Data Mining Techniques - For Marketing, Sales, and Customer",
####################################################################################################################################################################
Step 1.b - Perform data preprocessment 

Preprocess the data, this includes imputation, scaling and outlier identification. With respect to outliers, care must be given to their identification, using both univariate, as well as multivariate methods. 

Of critical importance, is to set aside these aberrant values in their own dataframe for profiling using the obtained clusters, later on, after clustering is complete. 
####################################################################################################################################################################
Step 3 - Prepare boilerplate code for:
- RFM
- Factor Analysis (FA) DONE
- K-Medoids, (with Hierachical Clustering seeds). (use Jesus F., Neves C. Data Analysis slides as reference) DONE
- DBSCAN
- SOM
- LCA (find reference) 
- RFM
####################################################################################################################################################################Step 2 -  Step Step 4 - Perform RFM analysis

The distribution of cumulative total amount spent, as shown in the Lorenz Curve, informs us that there is a pressing need to understand if clusters are viable at all levels of expenditure.

TODO: Start with RFM analysis to bucket customers into one of nine buckets ranging from 111 to 333; add this feature to the customers, profile. Then perform clustering.

The following reasoning was provided by ChatGPT on the question of considering one-time customers in the RFM analysis.

"Exclude One-Time Shoppers, if your goal is to identify high-value, long-term customers for segmentation and targeted campaigns."

As this makes intuitive sense, we decided to implement this strategy without diving deeper into any reference material. 
####################################################################################################################################################################

NOTES

A. SEGMENTATIONS UNDER CONSIDERATION 
B. PROMOTION CATEGORY NOMENCLATURE CHANGE CONSIDERATIONS

####################################################################################################################################################################
A. SEGMENTATIONS UNDER CONSIDERATION 

1. GEOGRAPHY CUISINE

PROFILING VARIABLES: REGION, CITY, 
CLUSTERING VARIABLES: CUISINE AMOUNTS, 

This perspective seeks to answer the question how do cuisine preferences vary between 

ORDER PERSPECTIVE
PROFILING VARIABLES: PROMO, PAYMETHOD 
CLUSTERING VARIABLES: N ORDER, N_PRODUCT, AVG_AMT_PER, CUISINES 

This perspective seeks to answer the question how does customer behavior vary as a function of cuisine.

TIME
PROFILING VARIABLES: REGION, CITY, 
CLUSTERING VARIABLES: HOUR, DOW, 

####################################################################################################################################################################
B. PROMOTION CATEGORY NOMENCLATURE CHANGE CONSIDERATIONS 

Why is NOPROMO a better label than OTHER?

'-' was changed to 'NOPROMO' to signify the absence of the use of any promotion by the customer. This makes more intuitive sense than 'OTHER' - which was the alternative considered - as that would imply that every customer would have used at least one promotion.
####################################################################################################################################################################


